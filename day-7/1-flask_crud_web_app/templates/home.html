{% block content %}
<h2>Employee List</h2>
<a href="{{ url_for('add_employee') }}" class="button">Add Employee</a>
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Designation</th>
            <th>Salary</th>
            <th>Age</th>
            <th>Joining Date</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for employee in employees %}
        <tr>
            <td>{{ employee.id }}</td>
            <td>{{ employee.name }}</td>
            <td>{{ employee.email }}</td>
            <td>{{ employee.phone }}</td>
            <td>{{ employee.designation }}</td>
            <td>{{ employee.salary }}</td>
            <td>{{ employee.age }}</td>
            <td>{{ employee.joining_date }}</td>
            <td>
                <a href="{{ url_for('employee_details', id=employee.id) }}" class="button">View</a>
                <a href="{{ url_for('edit_employee', id=employee.id) }}" class="button">Edit</a>
                <form action="{{ url_for('delete_employee', id=employee.id) }}" method="post" style="display:inline;">
                    <button type="submit" class="button delete delete-button">Delete</button>
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const deleteButtons = document.querySelectorAll('.delete-button');
                        deleteButtons.forEach(button => {
                            button.addEventListener('click', function(event) {
                                if (!confirm('Are you sure you want to delete this employee?')) {
                                    event.preventDefault();
                                }
                            });
                        });
                    });
                </script>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
